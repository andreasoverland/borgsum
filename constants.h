
const int Piece_e = 0;

const int Piece_P = 1;
const int Piece_R = 2;
const int Piece_N = 4;
const int Piece_B = 8;
const int Piece_Q = 16;
const int Piece_K = 32;

const int Piece_p = 64;
const int Piece_r = 128;
const int Piece_n = 256;
const int Piece_b = 512;
const int Piece_q = 1024;
const int Piece_k = 2048;

const int Pieces_Nn = 4 | 256;
const int Pieces_PpKk = 1 | 64 | 32 | 2048;

const int Pieces_qbpk = 1024 | 512 | 2048 | 64 ;
const int Pieces_qbk  = 1024 | 512 | 2048;
const int Pieces_qrk  = 1024 | 128 | 2048;
const int Pieces_qb   = 1024 | 512;
const int Pieces_qr   = 1024 | 128;


const int Pieces_QBPK = 16 | 8 | 1 | 32;
const int Pieces_QBK =  16 | 8 | 32;
const int Pieces_QRK =  16 | 2 | 32;
const int Pieces_QB =   16 | 8;
const int Pieces_QR =   16 | 2;

const int WHITE_MASK = 0b000000111111;
const int BLACK_MASK = 0b111111000000;

const int MASK_CASTLING_WHITE_QUEEN_SIDE = 1;
const int MASK_CASTLING_WHITE_KING_SIDE = 2;
const int MASK_CASTLING_BLACK_QUEEN_SIDE = 4;
const int MASK_CASTLING_BLACK_KING_SIDE = 8;

const int MASK_LAST_MOVE_WAS_CAPTURE = 1;
const int MASK_LAST_MOVE_WAS_EP_STRIKE = 2;
const int MASK_LAST_MOVE_WAS_PROMO = 4;
const int MASK_LAST_MOVE_WAS_CASTLING_QUEEN_SIDE = 8;
const int MASK_LAST_MOVE_WAS_CASTLING_KING_SIDE = 16;

const int MASK_EMPTY = 0;

const int MASK_WHITE_KING_CHECKED = 0b0000000111111;
const int MASK_BLACK_KING_CHECKED = 0b0111111000000;
const int MASK_KING_IS_MATED      = 0b1000000000000;

// bitboard spesific indexes
const int IDX_WHITE_PIECES = 32;
const int IDX_BLACK_PIECES = 33;
const int IDX_ALL_PIECES = 34;

const int IDX_WHITE_PAWNS = 35;
const int IDX_WHITE_ROOKS = 36;
const int IDX_WHITE_KNIGHTS = 37;
const int IDX_WHITE_BISHOPS = 38;
const int IDX_WHITE_QUEENS = 39;
const int IDX_WHITE_KING = 40;

const int IDX_BLACK_PAWNS = 41;
const int IDX_BLACK_ROOKS = 42;
const int IDX_BLACK_KNIGHTS = 43;
const int IDX_BLACK_BISHOPS = 44;
const int IDX_BLACK_QUEENS = 45;
const int IDX_BLACK_KING = 46;

// indexes 47..54 are free

// back to regular indexes

const int IDX_CASTLING = 65;
const int IDX_MOVE_NUM = 66;
const int IDX_TURN = 68;
const int IDX_WHITE_KING_INDEX = 69;
const int IDX_BLACK_KING_INDEX = 70;

const int IDX_CHECK_STATUS = 71;
const int IDX_LAST_MOVE_WAS = 72;
const int IDX_EP_IDX = 73;

const int IDX_START_INFLUENCE_MAP = 74;

const int NUM_BYTES_TO_COPY = 71;
const int NUM_BYTES = 91;

const int A1 = 56;
const int B1 = 57;
const int C1 = 58;
const int D1 = 59;
const int E1 = 60;
const int F1 = 61;
const int G1 = 62;
const int H1 = 63;

const int A8 = 0;
const int B8 = 1;
const int C8 = 2;
const int D8 = 3;
const int E8 = 4;
const int F8 = 5;
const int G8 = 6;
const int H8 = 7;


const int MOVE_MATRIX_LENGTH = 16;
const int MOVE_MATRIX[] = {
    -1, -1, 0, -1, 1, -1,
    -1,  0,        1,  0,
    -1,  1, 0,  1, 1,  1
};

const int KNIGHT_MOVE_MATRIX_LENGTH = 16;
const int KNIGHT_MOVE_MATRIX[] = {
    -1, -2, -1, 2, -2, -1, -2, 1,
     1, -2,  1, 2,  2, -1,  2, 1
};
const int KNIGHT_MOVE_MATRIX_2[] = {
  -1, -2, -1, 2, 1, -2, 1, 2, -1
};

const int BISHOP_MOVE_MATRIX_LENGTH = 8;
const int BISHOP_MOVE_MATRIX[] = {
    -1, -1, 1, -1,
    -1,  1, 1,  1
};

const int ROOK_MOVE_MATRIX_LENGTH = 8;
const int ROOK_MOVE_MATRIX[] = {
    -1, 0, 0, -1,
     1, 0, 0,  1
};

const int a = Piece_q | Piece_b;
const int b = Piece_q | Piece_b | Piece_k | Piece_p;
const int c = Piece_q | Piece_b | Piece_k;
const int d = Piece_q | Piece_r;
const int e = Piece_q | Piece_r | Piece_k;

const int A = Piece_Q | Piece_B;
const int B = Piece_Q | Piece_B | Piece_K | Piece_P;
const int C = Piece_Q | Piece_B | Piece_K;
const int D = Piece_Q | Piece_R;
const int E = Piece_Q | Piece_R | Piece_K;

int allComparePieces[8*16] = {
    0, C, A, A, A, A, A, A,
    0, E, D, D, D, D, D, D,
    0, C, A, A, A, A, A, A,
    0, E, D, D, D, D, D, D,
    0, E, D, D, D, D, D, D,
    0, B, A, A, A, A, A, A,
    0, E, D, D, D, D, D, D,
    0, B, A, A, A, A, A, A,
    0, b, a, a, a, a, a, a,
    0, e, d, d, d, d, d, d,
    0, b, a, a, a, a, a, a,
    0, e, d, d, d, d, d, d,
    0, e, d, d, d, d, d, d,
    0, c, a, a, a, a, a, a,
    0, e, d, d, d, d, d, d,
    0, c, a, a, a, a, a, a,
};

const long WHITE_PAWN_ATTACK_MAPS[] = {
  18014398509481984,
  45035996273704960,
  22517998136852480,
  11258999068426240,
  5629499534213120,
  2814749767106560,
  1407374883553280,
  562949953421312,
  70368744177664,
  175921860444160,
  87960930222080,
  43980465111040,
  21990232555520,
  10995116277760,
  5497558138880,
  2199023255552,
  274877906944,
  687194767360,
  343597383680,
  171798691840,
  85899345920,
  42949672960,
  21474836480,
  8589934592,
  1073741824,
  2684354560,
  1342177280,
  671088640,
  335544320,
  167772160,
  83886080,
  33554432,
  4194304,
  10485760,
  5242880,
  2621440,
  1310720,
  655360,
  327680,
  131072,
  16384,
  40960,
  20480,
  10240,
  5120,
  2560,
  1280,
  512,
  64,
  160,
  80,
  40,
  20,
  10,
  5,
  2,
  0,0,0,0,0,0,0,0,
};

const long BLACK_PAWN_ATTACK_MAPS[] = {
  0, 0, 0, 0, 0, 0, 0, 0,
  4611686018427387904,
  -6917529027641081856,
  5764607523034234880,
  2882303761517117440,
  1441151880758558720,
  720575940379279360,
  360287970189639680,
  144115188075855872,
  18014398509481984,
  45035996273704960,
  22517998136852480,
  11258999068426240,
  5629499534213120,
  2814749767106560,
  1407374883553280,
  562949953421312,
  70368744177664,
  175921860444160,
  87960930222080,
  43980465111040,
  21990232555520,
  10995116277760,
  5497558138880,
  2199023255552,
  274877906944,
  687194767360,
  343597383680,
  171798691840,
  85899345920,
  42949672960,
  21474836480,
  8589934592,
  1073741824,
  2684354560,
  1342177280,
  671088640,
  335544320,
  167772160,
  83886080,
  33554432,
  4194304,
  10485760,
  5242880,
  2621440,
  1310720,
  655360,
  327680,
  131072,
  16384,
  40960,
  20480,
  10240,
  5120,
  2560,
  1280,
  512,
};

const long N_ATTACK_MAPS[] = {
  9077567998918656,
  4679521487814656,
  38368557762871296,
  19184278881435648,
  9592139440717824,
  4796069720358912,
  2257297371824128,
  1128098930098176,
  2305878468463689728,
  1152939783987658752,
  -8646761407372591104,
  4899991333168480256,
  2449995666584240128,
  1224997833292120064,
  576469569871282176,
  288234782788157440,
  4620693356194824192,
  -6913025356609880064,
  5802888705324613632,
  2901444352662306816,
  1450722176331153408,
  725361088165576704,
  362539804446949376,
  145241105196122112,
  18049583422636032,
  45053588738670592,
  22667534005174272,
  11333767002587136,
  5666883501293568,
  2833441750646784,
  1416171111120896,
  567348067172352,
  70506185244672,
  175990581010432,
  88545054707712,
  44272527353856,
  22136263676928,
  11068131838464,
  5531918402816,
  2216203387392,
  275414786112,
  687463207072,
  345879119952,
  172939559976,
  86469779988,
  43234889994,
  21609056261,
  8657044482,
  1075839008,
  2685403152,
  1351090312,
  675545156,
  337772578,
  168886289,
  84410376,
  33816580,
  4202496,
  10489856,
  5277696,
  2638848,
  1319424,
  659712,
  329728,
  132096,
};

const long QB_ATTACK_MAPS[] = {
  18049651735527937,
  45053622886727936,
  22667548931719168,
  11334324221640704,
  5667164249915392,
  2833579985862656,
  1416240237150208,
  567382630219904,
  4611756524879479810,
  -6917353036926680575,
  5764696068147249408,
  2882348036221108224,
  1441174018118909952,
  720587009051099136,
  360293502378066048,
  144117404414255168,
  2323857683139004420,
  1197958188344280066,
  -8624392940535152127,
  4911175566595588352,
  2455587783297826816,
  1227793891648880768,
  577868148797087808,
  288793334762704928,
  1161999073681608712,
  581140276476643332,
  326598935265674242,
  -9060072569221905919,
  4693335752243822976,
  2310639079102947392,
  1155178802063085600,
  577588851267340304,
  580999811184992272,
  290500455356698632,
  145390965166737412,
  108724279602332802,
  -9205038694072573375,
  4620711952330133792,
  2310355426409252880,
  1155177711057110024,
  290499906664153120,
  145249955479592976,
  72625527495610504,
  424704217196612,
  36100411639206946,
  -9205322380790986223,
  4620710844311799048,
  2310355422147510788,
  145249953336262720,
  72624976676520096,
  283693466779728,
  1659000848424,
  141017232965652,
  36099303487963146,
  -9205322385119182843,
  4620710844295151618,
  72624976668147712,
  283691315142656,
  1108177604608,
  6480472064,
  550848566272,
  141012904249856,
  36099303471056128,
  -9205322385119247872
};

const long QR_ATTACK_MAPS[] = {
  9187484529235886208,
  -4665658569255796672,
  -2368858081646862304,
  -1220457837842395120,
  -646257715940161528,
  -359157654989044732,
  -215607624513486334,
  -143832609275707135,
  -9187483425412448128,
  4665518383679160384,
  2368647251370188832,
  1220211685215703056,
  645993902138460168,
  358885010599838724,
  215330564830528002,
  143553341945872641,
  -9187203049947365248,
  4629910699613634624,
  2315095537539358752,
  1157687956502220816,
  578984165983651848,
  289632270724367364,
  144956323094725122,
  72618349279904001,
  -9187201954730704768,
  4629771607097753664,
  2314886351157207072,
  1157443723186933776,
  578722409201797128,
  289361752209228804,
  144681423712944642,
  72341259464802561,
  -9187201950452514688,
  4629771063767613504,
  2314885534022901792,
  1157442769150545936,
  578721386714368008,
  289360695496279044,
  144680349887234562,
  72340177082712321,
  -9187201950435803008,
  4629771061645230144,
  2314885530830970912,
  1157442765423841296,
  578721382720276488,
  289360691368494084,
  144680345692602882,
  72340172854657281,
  -9187201950435737728,
  4629771061636939584,
  2314885530818502432,
  1157442765409283856,
  578721382704674568,
  289360691352369924,
  144680345676217602,
  72340172838141441,
  -9187201950435737473,
  4629771061636907199,
  2314885530818453727,
  1157442765409226991,
  578721382704613623,
  289360691352306939,
  144680345676153597,
  72340172838076926,
};
